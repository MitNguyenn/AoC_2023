SIZE = 142

with open("day3.txt", "r") as file:
    sudoku = [[".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".","."]]
    for i in file:
        num = ['.']
        for j in i:
            num.append(j)        
        if len(num) == SIZE:
            num.remove(num[SIZE - 1])
        num.append('.')
        sudoku.append(num)
    sudoku.append([".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".",".", "."])
    
    sum = 0

    for row in range(SIZE):
        for column in range(SIZE):
            if sudoku[row][column] == "*":  
                multiply = 1          
                count = 0
                for i in range(row-1, row+2):
                    for j in range(column-1, column +2):
                        if sudoku[i][j].isdigit():
                            num = ''
                            left = j
                            right = j+1
                            while sudoku[i][left].isdigit():
                                num += str(sudoku[i][left])
                                sudoku[i][left] = '.'
                                left -= 1
                            num = num[::-1]
                            while sudoku[i][right].isdigit():
                                num += str(sudoku[i][right])
                                sudoku[i][right] = '.'
                                right += 1
                            if num != '':
                                multiply *= int(num)
                            count += 1
                if count == 2: 
                    sum += multiply
                            

print(sum)
    

